package ${T.packageName};

import org.apache.log4j.Logger;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

/** 
 * 
 * ÃèÊö£ºTest${T.className}ACTION
 * @author	:${A.authorInfo}
 * @version	:${A.version}
 * @date	:${A.date}
 * ËµÃ÷:		:${A.note}
 */
public class ${T.className}TestAction  {
	public final static  Logger log = Logger.getLogger(${T.className}TestAction.class);
	ApplicationContext context;
	Ajax${T.className}Action action ;
	@Before
	public   void inits(){
		try{
			context = new ClassPathXmlApplicationContext(
			"com/nvm/rock/zpring/application*.xml");
			action = (Ajax${T.className}Action)context.getBean("ajax${T.className}Action");
			log.info("inits application : "+(context!=null));
		}catch (Exception e) {
			e.printStackTrace();
		}
	}
	@After
	public   void print(){
		System.out.println("==========================================");
		System.out.println(action.getJsonResult());
		if(!action.getJsonResult().getRows().isEmpty()){
			System.out.println(action.getJsonResult().getRows());
		}
		System.out.println("==========================================");
	}
	
	@Test  
	public   void testSave() throws Exception{
		${T.className} ${T.className} = (${T.className})action.getModel();
		${T.className}.setSeqid(1);//update
		//other fields
		action.save();
		//
	}
	@Test  
	public   void testFind() throws Exception{
		${T.className} ${T.className} = (${T.className})action.getModel();
		// find id 
		${T.className}.setSeqid(1);
		action.find();
	}
	@Test  
	public   void testList() throws Exception{
		${T.className} ${T.className} = (${T.className})action.getModel();
		// select fields 
		action.list();
	}
	
	@Test  
	public   void testDelete() throws Exception{
		${T.className} ${T.className} = (${T.className})action.getModel();
		//delete id 
		${T.className}.setSeqid(1);
		action.delete();
	}
	
	@Test  
	public   void testDeletes() throws Exception{
		${T.className} ${T.className} = (${T.className})action.getModel();
		// delete ids  format : 4@7
		action.setRemoveListIds("4@7");
		action.deletes();
	}
	
	
	
}
